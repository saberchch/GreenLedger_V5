{% macro recent_activity_table(recent_activities) %}
<!-- Recent Activity Overview -->
<div
    class="bg-white dark:bg-[#1a2c24] rounded-xl border border-[#e5e7eb] dark:border-[#2a4035] shadow-sm overflow-hidden">
    <div class="p-6 border-b border-[#f0f4f2] dark:border-[#2a4035] flex justify-between items-center">
        <h3 class="text-lg font-bold text-[#111814] dark:text-white">Recent Organization Activity</h3>
        <button
            class="text-sm font-medium text-[#618975] dark:text-[#8baaa0] hover:text-[#111814] dark:hover:text-white transition-colors">
            View All
        </button>
    </div>
    <div class="overflow-x-auto">
        <table class="w-full text-left">
            <thead class="bg-[#f9fafb] dark:bg-[#23352c] border-b border-[#e5e7eb] dark:border-[#3d5348]">
                <tr>
                    <th
                        class="px-6 py-4 text-xs font-semibold text-[#618975] dark:text-[#8baaa0] uppercase tracking-wider">
                        Activity</th>
                    <th
                        class="px-6 py-4 text-xs font-semibold text-[#618975] dark:text-[#8baaa0] uppercase tracking-wider">
                        Date</th>
                    <th
                        class="px-6 py-4 text-xs font-semibold text-[#618975] dark:text-[#8baaa0] uppercase tracking-wider">
                        Type</th>
                    <th
                        class="px-6 py-4 text-xs font-semibold text-[#618975] dark:text-[#8baaa0] uppercase tracking-wider">
                        Status</th>
                    <th
                        class="px-6 py-4 text-xs font-semibold text-[#618975] dark:text-[#8baaa0] uppercase tracking-wider text-right">
                        Actions</th>
                </tr>
            </thead>
            <tbody class="divide-y divide-[#f0f4f2] dark:divide-[#2a4035]">
                {% for activity in recent_activities %}
                <tr class="hover:bg-[#f9fafb] dark:hover:bg-[#23352c] transition-colors">
                    <td class="px-6 py-4 text-sm font-medium text-[#111814] dark:text-white">
                        <div class="flex items-center gap-3">
                            <div
                                class="size-8 rounded bg-[#f0f4f2] dark:bg-[#3d5348] flex items-center justify-center text-[#618975] dark:text-[#8baaa0]">
                                <span class="material-symbols-outlined" style="font-size: 18px;">
                                    {% if activity.documents %}description{% else %}edit{% endif %}
                                </span>
                            </div>
                            {{ activity.documents[0].filename if activity.documents else 'Manual Entry #' ~ activity.id
                            }}
                        </div>
                    </td>
                    <td class="px-6 py-4 text-sm text-[#618975] dark:text-[#8baaa0]">{{ activity.created_at.strftime('%b
                        %d, %Y') }}</td>
                    <td class="px-6 py-4 text-sm text-[#111814] dark:text-white">{{ activity.scope.value }}</td>
                    <td class="px-6 py-4">
                        {% if activity.status.value == 'validated' %}
                        <span
                            class="inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400">
                            <div class="size-1.5 rounded-full bg-green-500"></div>Validated
                        </span>
                        {% elif activity.status.value == 'submitted' %}
                        <span
                            class="inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400">
                            <div class="size-1.5 rounded-full bg-blue-500"></div>Pending
                        </span>
                        {% elif activity.status.value == 'draft' %}
                        <span
                            class="inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300">
                            <div class="size-1.5 rounded-full bg-gray-500"></div>Draft
                        </span>
                        {% elif activity.status.value == 'rejected' %}
                        <span
                            class="inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400">
                            <div class="size-1.5 rounded-full bg-red-500"></div>Rejected
                        </span>
                        {% endif %}
                    </td>
                    <td class="px-6 py-4 text-right">
                        <button
                            class="text-[#618975] dark:text-[#8baaa0] hover:text-[#111814] dark:hover:text-white transition-colors">
                            <span class="material-symbols-outlined" style="font-size: 20px;">more_vert</span>
                        </button>
                    </td>
                </tr>
                {% else %}
                <tr>
                    <td colspan="5" class="px-6 py-12 text-center text-[#618975]">No recent activity.</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endmacro %}